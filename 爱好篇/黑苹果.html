<!DOCTYPE html><html lang="zh-CN" color-mode="light"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="keywords" content="前端、免流、技术、运维、手机"><meta name="author" content="记住"><meta name="description" content="我希望有个如你一般的人。 如这山间清晨一般明亮清爽的人， 如奔赴古城道路上阳光一般的人， 温暖而不炙热，覆盖我所有肌肤。 由起点到夜晚，由山野到书房， 一切问题的答案都很简单。 我希望有个如你一般的人，贯彻未来，数遍生命的公路牌。"><title>极客必备黑苹果安装适配指南 | 从你的全世界路过</title><link rel="apple-touch-icon" href="/images/avatar.png"><link rel="icon" href="/images/avatar.png"><link href="https://fonts.googleapis.com/css?family=Raleway&display=swap" rel="stylesheet"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1886449_67xjft27j1l.css"><link rel="stylesheet" href="/css/figcaption/mac-block.css"><script defer type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><link href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" rel="stylesheet"><script defer type="text/javascript" src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script src="/js/fancybox.js"></script><script>var html=document.documentElement;const colorMode=localStorage.getItem("color-mode");colorMode&&document.documentElement.setAttribute("color-mode",colorMode)</script><meta name="generator" content="Hexo 6.3.0"><style>.github-emoji{position:relative;display:inline-block;width:1.2em;min-height:1.2em;overflow:hidden;vertical-align:top;color:transparent}.github-emoji>span{position:relative;z-index:10}.github-emoji .fancybox,.github-emoji img{margin:0!important;padding:0!important;border:none!important;outline:0!important;text-decoration:none!important;user-select:none!important;cursor:auto!important}.github-emoji img{height:1.2em!important;width:1.2em!important;position:absolute!important;left:50%!important;top:50%!important;transform:translate(-50%,-50%)!important;user-select:none!important;cursor:auto!important}.github-emoji-fallback{color:inherit}.github-emoji-fallback img{opacity:0!important}</style><link rel="alternate" href="/atom.xml" title="从你的全世界路过" type="application/atom+xml"></head><body><div id="app"><div class="header"><div class="avatar"><a href="/"><img src="/images/avatar.png" alt=""></a><div class="nickname"><a href="/">cloud</a></div></div><h1 style="text-align:center;margin-bottom:40px" id="jinrishici-sentence">正在加载今日诗词....</h1><script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script><div class="navbar"><ul><li class="nav-item" data-path="/"><a href="/">Home</a></li><li class="nav-item" data-path="/archives/"><a href="/archives/">Archives</a></li><li class="nav-item" data-path="/tags/"><a href="/tags/">Tags</a></li><li class="nav-item" data-path="/friends/"><a href="/friends/">Friends</a></li><li class="nav-item" data-path="/about/"><a href="/about/">About</a></li></ul></div></div><script src="/js/activeNav.js"></script><div class="flex-container"><script async type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><script>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]]}}</script><script async type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.10/dist/clipboard.min.js"></script><script src="/js/codeCopy.js"></script><div class="container post-details" id="post-details"><div class="post-content"><div class="post-title">极客必备黑苹果安装适配指南</div><div class="post-attach"><span class="post-pubtime"><i class="iconfont icon-updatetime mr-10" title="更新时间"></i> 2022-10-20 10:31:20 </span><span class="post-tags"><i class="iconfont icon-tags mr-10" title="标签"></i> <span class="span--tag mr-8"><a href="/tags/%E9%BB%91%E8%8B%B9%E6%9E%9C/" title="黑苹果">#黑苹果</a></span></span></div><div class="markdown-body"><h1 id="Hackintoch"><a href="#Hackintoch" class="headerlink" title="Hackintoch"></a>Hackintoch</h1><blockquote><p>网站推荐</p><ul><li><a target="_blank" rel="noopener" href="https://blog.daliansky.net/">黑果小兵的部落阁</a></li><li><a target="_blank" rel="noopener" href="http://imacos.top/">黑果屋 – 黑苹果屋—Hackintosh|黑苹果单双系统安装全套完整教程资源软件下载</a></li><li><a target="_blank" rel="noopener" href="https://macx.top/">苹果地带</a></li><li><a target="_blank" rel="noopener" href="https://github.com/tunglamvghy/AsusS530UN-hackintosh">AsusS530UN-hackintosh: Install macOS BigSur/Monterey on laptop ASUS Vivobook S530UN</a></li><li><strong><a target="_blank" rel="noopener" href="https://github.com/tunglamvghy/AsusS530UN-hackintosh">AsusS530UN-hackintosh</a></strong></li><li><a target="_blank" rel="noopener" href="https://github.com/Jie2GG/Hackintosh-ASUS-S5300FN">Hackintosh-ASUS-S5300FN</a></li></ul><p>教程推荐：</p><ul><li><a target="_blank" rel="noopener" href="https://apple.sqlsec.com/">国光的黑苹果安装教程</a></li><li><a target="_blank" rel="noopener" href="https://szhshp.org/tech/2021/01/17/hackintonishinandroid">优雅地 Hack 一台黑苹果</a></li></ul></blockquote><h2 id="术语"><a href="#术语" class="headerlink" title="术语"></a>术语</h2><p>基础</p><p>UEFI</p><ul><li>UEFI 是 Unified Extensible Firmware Interface（统一可扩展固件接口），可以让 PC 从预启动的操作环境，加载到操作系统上。大家可以理解为 UEFI 是一种系统引导方式，基本上 2010 年后的电脑都是支持 UEFI 引导方式的。</li><li>UEFI 引导常配合 GPT 分区表来使用，在 DiskGenius 中，选中磁盘，右键选【转换分区表类型为 GUID 格式】即可将磁盘转换为 GPT 分区表。</li></ul><p>ESP</p><ul><li>ESP引导分区（分区必须&gt;200M）</li><li>ESP分区：EFI system partition，该分区用于采用了EFI BIOS的电脑系统，用来启动操作系统。分区内存放引导管理程序、驱动程序、系统维护工具等。如果电脑采用了EFI系统，或当前磁盘用于在EFI平台上启动操作系统，则应建议ESP分区。</li></ul><p>GUID vs MBR</p><ul><li>磁盘分区格式有两种：GUID(GPT 全局唯一标识磁盘分区表 )和MBR(主引导记录)</li><li>MBR分区表：Master Boot Record，即硬盘主引导记录分区表，存在于磁盘驱动器开始部分的一个特殊的启动扇区。这个扇区包含了已安装的操作系统系统信息，并用一小段代码来启动系统，只支持容量在 2.1TB 以下的硬盘，超过2.1TB的硬盘只能管理2.1TB，最多只支持4个主分区或三个主分区和一个扩展分区，扩展分区下可以有多个逻辑分区。<ul><li>启动主板自带的BIOS系统，bios加载MBR，MBR再启动Windows</li></ul></li><li>GPT分区表：GPT，全局唯一标识分区表(GUID Partition Table)，与MBR最大4个分区表项的限制相比，GPT对分区数量没有限制，但Windows最大仅支持128个GPT分区，GPT可管理硬盘大小达到了18EB。只有基于UEFI平台的主板才支持GPT分区引导启动<ul><li>启动方式：使用UEFI启动的磁盘组织方式</li><li>GPT分区表下的隐藏分区： ESP分区：EFI system partition，该分区用于采用了EFI BIOS的电脑系统，用来启动操作系统。分区内存放引导管理程序、驱动程序、系统维护工具等。如果电脑采用了EFI系统，或当前磁盘用于在EFI平台上启动操作系统，则应建议ESP分区。MSR分区：即微软保留分区，是GPT磁盘上用于保留空间以备用的分区，例如在将磁盘转换为动态磁盘时需要使用这些分区空间。</li></ul></li></ul><table><thead><tr><th align="left">名词</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left"><strong>Hackintosh</strong></td><td align="left">将 macOS 安装到非苹果官方 PC 的过程，请注意<strong>Hackintosh 不是操作系统</strong></td></tr><tr><td align="left"><strong>Bootloader</strong></td><td align="left">加载操作系统的软件，通常由操作系统创建者制作</td></tr><tr><td align="left"><strong>Boot Manager</strong></td><td align="left">管理引导加载程序的软件比如：Clover、OpenCore 等</td></tr><tr><td align="left"><strong>Clover</strong></td><td align="left">被 OpenCore 逐步替代的一个引导方式</td></tr><tr><td align="left"><strong>OpenCore</strong></td><td align="left">由<a target="_blank" rel="noopener" href="https://github.com/acidanthera">Acidanthera 团队</a>在打造的 Hackintosh 新的更完美的引导方式</td></tr><tr><td align="left"><strong>ACPI</strong></td><td align="left">高级配置和电源接口 ，可以让系统更好的识别硬件信息</td></tr><tr><td align="left"><strong>DSDT/SSDT</strong></td><td align="left">ACPI 中的表格，描述设备以及操作系统应如何与它们交互</td></tr><tr><td align="left"><strong>.AML</strong></td><td align="left">ACPI 的编译文件格式</td></tr><tr><td align="left"><strong>.DSL</strong></td><td align="left">ACPI 的源代码文件</td></tr><tr><td align="left"><strong>Kexts</strong></td><td align="left">全程叫 <strong>K</strong>ernel <strong>Ext</strong>ensions 内核扩展，我们国内可以通俗的翻译为驱动</td></tr><tr><td align="left"><strong>BIOS</strong></td><td align="left">基本输出输入系统，可以通俗的理解为主板的操作系统</td></tr><tr><td align="left"><strong>UEFI</strong></td><td align="left">统一可扩展固件接口，可以让 PC 从预启动的操作环境，加载到操作系统上</td></tr><tr><td align="left"><strong>UEFI 驱动</strong></td><td align="left">与任何其他操作系统一样，UEFI 具有驱动程序，它们由 Clover 或 OpenCore 加载</td></tr><tr><td align="left"><strong>NVRAM</strong></td><td align="left">非易失性随机访问存储器，主板自带的，UEFI 启动的时候会先加载 NVRM</td></tr></tbody></table><p>ACPI</p><table><thead><tr><th align="left">名词</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left"><strong>EC</strong></td><td align="left">嵌入式控制器。在主板和嵌入式外围设备（如热键、端口或电池）之间进行通信</td></tr><tr><td align="left"><strong>PLUG</strong></td><td align="left">允许连接 XCPM、Apple XNU 电源管理，以实现更好的整体 CPU 控制</td></tr><tr><td align="left"><strong>AWAC</strong></td><td align="left">ACPI Wake Alarm Counter Clock，板的内部时钟，Hackintosh 必须对其进行修补</td></tr><tr><td align="left"><strong>PMC</strong></td><td align="left">电源管理控制器，部分主板需要 SSDT-PMC 来进行修补</td></tr><tr><td align="left"><strong>PNLF</strong></td><td align="left">内部背光显示，macOS 使用此 PNLF 设备发送和接收信息以进行亮度控制</td></tr><tr><td align="left"><strong>XOSI/_OSI</strong></td><td align="left"><code>_OSI</code> 用于确定正在启动的操作系统，重命名为 XOSI 允许我们欺骗硬件</td></tr><tr><td align="left"><strong>HPET</strong></td><td align="left">高精度事件定时器，macOS 对设备的设置方式非常挑剔，因此我们有时需要修补 HPET</td></tr><tr><td align="left"><strong>RHUB</strong></td><td align="left">根 USB 集线器，其中定义了 USB 端口。</td></tr><tr><td align="left"><strong>IMEI</strong></td><td align="left">英特尔管理引擎接口，处理杂项任务。macOS 依靠 IMEI 来实现 Intel GPU 加速</td></tr><tr><td align="left"><strong>UNC</strong></td><td align="left">Uncore Bridge，类似于北桥，它处理许多与缓存相关的功能</td></tr><tr><td align="left"><strong>SMBS</strong></td><td align="left">系统管理总线，用于允许设备之间轻松通信。</td></tr></tbody></table><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>自从苹果采用<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/Intel">Intel</a>的处理器，<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/OS/688">OS</a> X被黑客破解后可以安装在Intel CPU与部分<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/AMD/5905">AMD</a> CPU的机器上。从而出现了一大批非苹果设备而使用苹果操作系统的机器，被称为黑苹果(<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/Hackintosh">Hackintosh</a>)；在Mac苹果机上面安装原版Mac系统的被称为白苹果（<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/Macintosh">Macintosh</a>），与黑苹果相对。</p><h2 id="版本"><a href="#版本" class="headerlink" title="版本"></a>版本</h2><p><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/Mac_OS_X">Mac OS X</a> 是<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E8%8B%B9%E6%9E%9C%E7%94%B5%E8%84%91">苹果电脑</a>作业系统产品线最新的 <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/Mac_OS">Mac OS</a>。尽管官方上简单地说是 Mac OS 的 “版本10”，但是在历史上看来它与早期的 Mac OS 版本有本质区别。</p><p>历代版本</p><p>2020年6月22日，macOS Big Sur（版本11.0）是苹果公司用于麦金塔电脑的桌面操作系统macOS 的第17个主要版本。其為macOS Catalina 的继任者</p><table><thead><tr><th align="left">macOS</th><th>最新版本</th></tr></thead><tbody><tr><td align="left">macOS Monterey</td><td>12.0.0</td></tr><tr><td align="left">macOS Big Sur</td><td>11.0</td></tr><tr><td align="left"><a target="_blank" rel="noopener" href="https://support.apple.com/zh-cn/HT201475">macOS Catalina</a></td><td>10.15.3</td></tr><tr><td align="left"><a target="_blank" rel="noopener" href="https://support.apple.com/zh-cn/HT210190">macOS Mojave</a></td><td>10.14.6</td></tr><tr><td align="left"><a target="_blank" rel="noopener" href="https://support.apple.com/zh-cn/HT208969">macOS High Sierra</a></td><td>10.13.6</td></tr></tbody></table><h2 id="硬件"><a href="#硬件" class="headerlink" title="硬件"></a>硬件</h2><p>苹果设备</p><ul><li>iMac</li><li>Macbook Pro</li><li>Macbook Air</li></ul><p>电脑硬件知识</p><blockquote><ul><li>CPU + 显卡 + 主板（主要关系到黑苹果的安装）</li><li>无线网卡（外置USB无线网卡 ）</li><li>机箱 + 电源 + 风扇</li><li>内存 + 硬盘（固态 + 机械）<ul><li>M.2接口</li><li>sata接口固态</li></ul></li><li>intel CPU + AMD显卡</li><li>博通BCM型号的网卡</li><li>主板要看具体的Clover文件</li></ul></blockquote><p>CPU</p><p>Intel CPU</p><ul><li>11代和12代的CPU本身是可以驱动的，关键是GPU核显能不能正常工作，选购显卡的时候要选择免驱的独显，而笔记本电脑的独显大部分是没有办法驱动的，通常驱动的是笔记本的核显</li><li>intel 11代 核显（UHD 730/750）无法驱动</li><li>12 代酷睿仿冒 10 代酷睿，在 OpenCore 的 config.plist → Kernel → Emulate 添加以下内容即可：<ul><li><strong>Cpuid1Data</strong>：<code>55060A00 00000000 00000000 00000000</code></li><li><strong>Cpuid1Mask</strong>：<code>FFFFFFFF 00000000 00000000 00000000</code></li></ul></li></ul><p>AMD CPU</p><ul><li>AMD的CPU可以配合免驱的独显，获得良好的黑苹果体验</li></ul><p>GPU</p><ul><li>AMD的GPU</li><li>Intel的GPU</li><li>NVIDIA的GPU</li></ul><p>主板</p><ul><li>绝大多数的主板都可以驱动，个人还是建议尽量选择 BIOS 功能多的主板</li></ul><p>硬盘</p><p>网卡</p><p>有线网卡</p><ul><li>几乎所有的有线网络适配器macOS都支持</li></ul><p>无线网卡</p><p>最好选购博通Broadcom网卡</p><ul><li>博通PCIe网卡</li><li>博通Mini PCIe</li><li>博通M.2</li></ul><p><a target="_blank" rel="noopener" href="https://openintelwireless.github.io/">intel 网卡支持情况</a></p><blockquote><ul><li>Wifi: Intel 8265/8275 M2 NGFF (802.11 AC (2x2)) (working unstable!!)</li><li>声卡: 瑞昱 Audio @ 英特尔 High Definition Audio 控制器</li><li>网卡: 英特尔 Dual Band Wireless-AC 8265</li><li>网卡数据 <a target="_blank" rel="noopener" href="https://ark.intel.com/content/www/us/en/ark/products/94150/intel-dual-band-wirelessac-8265.html">Intel Dual Band WirelessAC 8265 Product Specifications</a></li></ul></blockquote><p>英特尔无线网卡在<a target="_blank" rel="noopener" href="https://imacosx.com/tag/%E9%BB%91%E8%8B%B9%E6%9E%9C">黑苹果</a>里之前一直是无法驱动的，现在只要利用itlwm.kext 驱动，就能轻松实现wifi功能了。</p><ul><li>itlwm.kext和Airportitlwm.kext 不要同时使用！</li></ul><blockquote><p>教程：<a target="_blank" rel="noopener" href="https://www.pipiqiang.cn/2020/04/06/%E9%BB%91%E8%8B%B9%E6%9E%9Cintel%E6%97%A0%E7%BA%BF%E7%BD%91%E5%8D%A1%E9%A9%B1%E5%8A%A8/">黑苹果Intel无线网卡驱动</a></p><p>适配的网卡：</p><ul><li><a target="_blank" rel="noopener" href="https://github.com/AppleIntelWifi/adapter">AppleIntelWifi/adapter: Kext providing initial support for Intel wireless devices</a></li></ul><p>自定义配置：</p><ul><li><a target="_blank" rel="noopener" href="https://www.itpwd.com/441.html">黑苹果春天：macOS英特尔/Intel无线驱动 itlwm v2.0.0 stable_黑苹果_IT密码</a></li><li><a target="_blank" rel="noopener" href="https://github.com/OpenIntelWireless/itlwm">OpenIntelWireless/itlwm：适用于 macOS 的英特尔 Wi-Fi 驱动程序</a></li><li><a target="_blank" rel="noopener" href="https://github.com/ammulder/AppleIntelWiFiMVM">ammulder/AppleIntelWiFiMVM: OS X driver for Intel WiFi cards based on the MVM firmware (e.g. 7265, 8260)</a></li></ul><p>免驱网卡：<a target="_blank" rel="noopener" href="https://heipg.cn/tutorial/wifi-bluetooth-card-for-hackintosh.html">黑苹果无线网卡购买&amp;安装&amp;使用指南2021年版-黑苹果星球</a></p><p>视频教程：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Jv411b76d/?spm_id_from=333.788.recommend_more_video.-1">OC引导黑苹果Intel无线网卡驱动原生Wi-Fi方式，支持Big Sur/Catalina/Mojave/High Sierra，告别USB外接网卡！_哔哩哔哩_bilibili</a></p></blockquote><ul><li>修改工具：<a target="_blank" rel="noopener" href="https://github.com/corpnewt/ProperTree">corpnewt/ProperTree</a></li><li>驱动程序</li></ul><p>OC/Kexts</p><p>添加到引导文件</p><blockquote><p>内核设置 =&gt; 添加驱动程序名字 拖动添加 ==&gt; 启用</p><p>卡白苹果 ==&gt;</p></blockquote><p>声卡</p><ul><li>声卡依赖于AppleALC开源kexts来驱动</li></ul><h2 id="软件"><a href="#软件" class="headerlink" title="软件"></a>软件</h2><p>UEFI启动<br><img src="https://i.loli.net/2020/10/07/YCAuwm7HVegjoBp.png" alt="image-20200312122815443"><br><img src="https://i.loli.net/2020/10/07/iIarZn8oCgYfsGq.png" alt="image-20200312122648318"></p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><blockquote><p>怎么判断自已的电脑能不能装黑苹果系统？</p><ol><li>可以询问淘宝装黑苹果的商家。</li><li>安装黑苹果要有一定的电脑基础，不同的电脑安装会出现不同的问题。</li><li>笔记本电脑的网卡99%的网卡型号不行。<br>解决方法：<ul><li>黑苹果USB无线网卡</li><li>黑苹果Mac无线免驱动（博通BCM型号的网卡）// DW型号的网卡</li></ul></li><li>AMD CPU基本不行。</li></ol></blockquote><h3 id="软件-1"><a href="#软件-1" class="headerlink" title="软件"></a>软件</h3><ul><li>DiskGenius</li><li>balenaEtcher</li><li>镜像：withClover镜像或者是withOC的镜像</li><li>clover configurator OpenCore Configurator Mac版本</li><li>Hackintool</li><li>OCAuxiliaryTools 跨平台 有Windows版本的</li></ul><h3 id="制作黑苹果镜像"><a href="#制作黑苹果镜像" class="headerlink" title="制作黑苹果镜像"></a>制作黑苹果镜像</h3><ul><li>原生镜像要自已制作黑苹果镜像，不推荐小白使用这个方法<ul><li>App Store下载系统镜像 制作镜像</li><li><a target="_blank" rel="noopener" href="https://dortania.github.io/OpenCore-Install-Guide/installer-guide/">创建 USB | OpenCore 安装指南</a></li></ul></li></ul><h3 id="制作启动U盘"><a href="#制作启动U盘" class="headerlink" title="制作启动U盘"></a>制作启动U盘</h3><p>使用懒人包制作U盘</p><ul><li>带clover引导的镜像</li><li>带oc引导的镜像</li></ul><p>制作启动U盘流程</p><ul><li>下载黑苹果镜像<a target="_blank" rel="noopener" href="https://blog.daliansky.net/macOS-Monterey-12.1-21C52-Release-version-with-OC-0.7.6-CLOVER-5143-and-FirPE-original-image.html#more">【黑果小兵】【微信首发】macOS Monterey 12.1 21C52 Installer for OpenCore 0.7.6 and CLOVER 5143 and WEPE 三 EFI 分区原版镜像 | 黑果小兵的部落阁</a></li><li>使用<a target="_blank" rel="noopener" href="https://www.balena.io/etcher/">balenaEtcher - Flash OS images to SD cards &amp; USB drives</a>刷入镜像</li></ul><p>U盘文件结构</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">EFI<br>- BOOT<br>- MICROSOFT<br>WEPE<br></code></pre></td></tr></tbody></table></figure><h3 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h3><p><a target="_blank" rel="noopener" href="https://www.sqlsec.com/2018/08/clover.html">B站黑苹果安装教程 | 国光</a></p><blockquote><p>两种引导方式：</p><p>变色龙 ==&gt; clover ==&gt; OC<br>安装流程</p></blockquote><ul><li>U盘刷入系统镜像withclover，安装oc引导的可以直接替换clover文件夹</li><li>下载适用EFI 用DiskGenius 替换U盘EFI文件<ul><li>配置适合EFI，可以把自已的电脑型号的配置去搜索，找到适配的EFI，或者可以去找相近的EFI，再去修改不同的硬件的驱动文件。</li></ul></li><li>进入PE系统在 DiskGenius 中，选中磁盘，右键选【转换分区表类型为 GUID 格式】即可将磁盘转换为 GPT 分区表。</li><li>进入BIOS 修改从U盘启动</li><li>使用mac系统的磁盘工具 格式化选择「APFS」格式</li><li>安装mac系统</li><li>开机进入系统 U盘EFI 复制到磁盘</li><li>检查系统出现什么问题<ul><li>修改 EFI 中的 OC中config.list 或者 是 Clover 中config.list</li></ul></li><li>双系统的话，就要进入PE修复UEFI序列</li><li>修改BIOS 从硬盘驱动</li><li>安装完成</li></ul><p><code>Command/Windows + V</code>键，这样就进入了 <code>-v</code> 啰嗦模式。如果你快捷键没有效果的话，说明你的 EFI 没有配置好苹果热键，那么可去 boot-args 启动项里面手动添加 <code>-v</code></p><p>单磁盘多系统</p><ul><li>无需手动使用工具添加引导项也可以，直接将 OC 的 EFI 引导文件拷贝到 <strong>磁盘B</strong> 的 EFI 引导分区下，然后在 BIOS 里面将 <strong>磁盘 B</strong>的引导设置第 1 启动即可。</li></ul><p>多磁盘多系统</p><ul><li>用下面的 DG 或者 EasyUEFI 手动添加引导<ul><li>来到 Windows 下我们可以使用 EasyUEFI 工具来添加引导，当然也有一些替代品如 Bootice，</li><li><a target="_blank" rel="noopener" href="https://sqlsec.lanzouw.com/i4amxzmj1cj">EasyUEFI 4.0 破解版.zip - 蓝奏云</a></li><li>EFI/OC/ 目录下的 OpenCpre.efi</li></ul></li></ul><h2 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h2><ul><li>小版本直接更新：安装完更新之后可能重启几次，总之这启动项还在的话，就一直选择这个新的启动项「Macintosh HD」来启动，更新成功后，启动项恢复正常了，我们选择原本的启动项 「Macintosh」来启动</li></ul><h2 id="引导"><a href="#引导" class="headerlink" title="引导"></a>引导</h2><h3 id="Clover-引导"><a href="#Clover-引导" class="headerlink" title="Clover 引导"></a>Clover 引导</h3><p>四叶草（clover）<br>作用：关于什么是<a target="_blank" rel="noopener" href="https://imac.hk/tag/clover/">Clover</a><a target="_blank" rel="noopener" href="https://imac.hk/tag/%E5%9B%9B%E5%8F%B6%E8%8D%89/">四叶草</a>？很显然这不是生长在地上草。这是一款软件，一种新型的系统引导程序。让我们普通的个人电脑可以安装和使用Mac OS 系统。<br><a target="_blank" rel="noopener" href="https://macx.top/5673.html">原版黑苹果安装教程【新】 – 苹果地带</a></p><h3 id="OS-引导"><a href="#OS-引导" class="headerlink" title="OS 引导"></a>OS 引导</h3><p><a target="_blank" rel="noopener" href="http://imacos.top/2020/04/04/1616/">OpenCore</a><br>Open Core(OC)是 Clover EFI 或 Chameleon 的替代引导程序。它不仅适用于Hackintosh，还可以在实际的 Mac 上用于需要模拟EFI的目的。它还旨在无需使用其他acpi表即可启动Windows和Linux。它具有纯净的代码库，在与真正的Mac bootloader保持密切联系。Kext驱动已大大改善。未来的主流引导工具应该是OC引导，如果你喜欢研究这些，可以尝试一下，给未来做点小贡献。不过如果你的黑苹果是主要生产力工具，有稳定系统的情况下，就别轻易尝试了。Open Core(OC)作为一种新的引导方式，随着越来越多的kexts开始放弃Clover, 我相信提早使用OC会对你未来使用黑苹果会有很大的帮助。这是一个自然的现象，就像变色龙被Clover淘汰，而现在OC代替Clover也是大势所趋。</p><h3 id="Clover-转-OC"><a href="#Clover-转-OC" class="headerlink" title="Clover 转 OC"></a>Clover 转 OC</h3><p><a target="_blank" rel="noopener" href="https://www.mfpud.com/topics/1981/">【kealOS】macOS Big Sur 11 2020/09/16 黑苹果系统镜像自带通用的OpenCore OC引导EFI-思羽布丁</a></p><blockquote><p>EFI配置和OC配置为进阶内容</p></blockquote><h2 id="EFI配置"><a href="#EFI配置" class="headerlink" title="EFI配置"></a>EFI配置</h2><p>BIOS设置</p><p><a target="_blank" rel="noopener" href="https://apple.sqlsec.com/3-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C/3-1.html#reloaded">BIOS设置 · 国光的黑苹果安装教程</a></p><p>OS引导配置</p><h3 id="OC文件"><a href="#OC文件" class="headerlink" title="OC文件"></a>OC文件</h3><p><a target="_blank" rel="noopener" href="https://github.com/acidanthera/OpenCorePkg">acidanthera/OpenCorePkg：OpenCore 引导加载程序</a></p><p>文件目录</p><p>EFI</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs bash">├── BOOT                          <span class="hljs-comment"># 引导文件夹</span><br>│   └── BOOTx64.efi               <span class="hljs-comment"># 引导文件</span><br>└── OC                            <span class="hljs-comment"># OC 文件夹</span><br>    ├── ACPI                      <span class="hljs-comment"># ACPI 存放的文件夹 放这 SSDT 编译好的文件，格式均为 .aml 格式，</span><br>    │   ├── SSDT-EC.aml<br>    │   ├── SSDT-PLUG.aml<br>    │   │── SSDT-PNLF.aml<br>    │       ...<br>    ├── Drivers                   <span class="hljs-comment"># OC 驱动的文件夹</span><br>    │   ├── AudioDxe.efi  启动的时候播放 Duang 的声音<br>    │   ├── CrScreenshotDxe.efi OC 引导界面截图驱动，按 F10 会保存当前界面的截图到 EFI 分区的根目录下<br>    │   ├── HiiDatabase.efi 用于支持 UEFI 字体渲染，四代酷睿后一般不需要<br>            OpenCanopy.efi：使用图形化 OC 主题必备驱动<br>            OpenHfsPlus.efi：文件系统驱动，用于支持识别 HFS+ 的磁盘格式<br>            OpenLinuxBoot.efi：OC 0.7.3 新增的驱动，用于引导 Linux 系统<br>            OpenPartitionDxe.efi：分区管理驱动程序。用于加载旧版 macOS 的 DMG 映像<br>            OpenRuntime.efi：OC 核心必备驱动，功能比较强大，大家记住这个是必备的驱动就行<br>            OpenUsbKbDxe.efi：USB 键盘驱动，用于模拟苹果热键，是 KeySupport 的等效方案<br>            Ps2KeyboardDxe.efi：PS/2 键盘驱动，这个 PS/2 键盘也太老了吧，我好多年没见过了<br>            Ps2MouseDxe.efi：PS/2 鼠标驱动，同样也太老了，很多年没有见过了<br>            UsbMouseDxe.efi：USB 鼠标驱动，有些虚拟机需要依赖改驱动才可以在引导界面使用鼠标<br>            XhciDxe.efi：XHCI USB controller 驱动程序，基本上 2 代酷睿开始大多数固件都自带这个驱动程序了<br>    ├── Kexts                     <span class="hljs-comment"># 存放内核拓展 kexts 的文件夹</span><br>    │   ├── AppleALC.kext<br>    │   ├── Lilu.kext<br>    │   ├── WhateverGreen.kext<br>    │       ...<br>    ├── OpenCore.efi              <span class="hljs-comment"># OC 的核心文件</span><br>    ├── Resources                 <span class="hljs-comment"># OC 的主题样式</span><br>    │   ├── Audio<br>    │   ├── Font<br>    │   ├── Image<br>    │   └── Label<br>    └── Tools                     <span class="hljs-comment"># OC 小工具文件夹</span><br>        ├── BootKicker.efi<br>        ├── ChipTune.efi<br>        ├── CleanNvram.efi<br>            ...<br></code></pre></td></tr></tbody></table></figure><h3 id="ACPI"><a href="#ACPI" class="headerlink" title="ACPI"></a>ACPI</h3><p>高级配置与电源接口（Advanced Configuration and Power Interface），是 1997 年由英特尔、微软、东芝共同提出、制定的操作系统电源管理、硬件配置接口，ACPI 定义了系统固件 BIOS 或 UEFI 和操作系统之间的硬件抽象接口。</p><p>它帮助操作系统合理控制和分配计算机硬件设备的电量，有 了 ACPI ，操作系统可以根据设备实际情况，根据需要把不同的硬件设备关闭。</p><ol><li>System power management（系统电源管理）</li><li>Device power management（设备电源管理）</li><li>Processor power management（处理器电源管理）</li><li>Device and processor performance management（设备及处理器性能管理）</li><li>Configuration / Plug and Play（配置/即插即用）</li><li>System Events（系统事件）</li><li>Battery management（电池管理）</li><li>Thermal management（温度管理）</li><li>Embedded Controller（嵌入式控制器）</li><li>SMBus Controller（SMBus控制器）</li></ol><h3 id="Kexts"><a href="#Kexts" class="headerlink" title="Kexts"></a>Kexts</h3><blockquote><p><a target="_blank" rel="noopener" href="https://github.com/acidanthera/OpenCorePkg/blob/master/Docs/Kexts.md">OpenCorePkg/Kexts.md at master · acidanthera/OpenCorePkg Kexts 大全</a></p><p><a target="_blank" rel="noopener" href="https://dortania.github.io/builds/">Kexts 下载列表</a></p></blockquote><p>Kext 的英文全称叫做 <strong>K</strong>ernel <strong>Ext</strong>ension，即内核扩展，我们可以通俗的理解为这个就是 macOS 的驱动，使用方法只需要将这些 kext 文件放入到 <code>EFI/OC/kexts</code> 文件夹下面，然后编辑 OC 配置文件加载这些 kexts 并调节好顺序即可。</p><p>Kexts 有顺序的要求，而且有些 Kexts 会冲突无法开机，</p><p>自动调整Kexts顺序</p><ul><li>OpenCore Configurator 也有这个功能，点击底部的「检查 Kexts」即可</li></ul><p>必备 Kexts 的加载顺序</p><ol><li>Lilu.kext</li><li>VirtualSMC.kext</li><li>WhateverGreen.kext</li><li>SMCBatteryManager.kext （台式机不需要）</li><li>SMCLightSensor.kext （台式机不需要）</li><li>SMCProcessor.kext</li><li>SMCSuperIO.kext</li><li>AppleALC.kext</li></ol><p>常用Kexts</p><ul><li><a target="_blank" rel="noopener" href="https://github.com/acidanthera/VirtualSMC/releases"><strong>VirtualSMC.kext</strong></a>：</li><li><a target="_blank" rel="noopener" href="https://github.com/acidanthera/Lilu/releases"><strong>Lilu.kext</strong></a>：很多著名 kexts 的依赖，没有 Liu 就无法正常使用 AppleALC、WhateverGreen、VirtualSMC 等</li><li><a target="_blank" rel="noopener" href="https://github.com/acidanthera/WhateverGreen/releases"><strong>WhateverGreen.kext</strong></a> 显卡驱动</li><li>声卡驱动<ul><li><a target="_blank" rel="noopener" href="https://github.com/acidanthera/AppleALC/releases"><strong>AppleALC.kext</strong></a></li><li><a target="_blank" rel="noopener" href="https://sourceforge.net/projects/voodoohda/"><strong>VoodooHDA.kext</strong></a></li></ul></li><li>usb驱动<ul><li><a target="_blank" rel="noopener" href="https://apple.sqlsec.com/6-%E5%AE%9E%E7%94%A8%E5%A7%BF%E5%8A%BF/6-1.html#reloaded"><strong>USBToolBox.kext 与 UTBMap.kext</strong></a></li></ul></li><li>有线网卡<ul><li><strong>AtherosE2200Ethernet.kext</strong></li><li><strong>IntelMausi.kext</strong>：大多数 Intel 因特尔的网卡驱动</li><li><strong>LucyRTL8125Ethernet.kext</strong>：Realtek 的 2.5Gb 的网卡驱动</li><li><strong>RealtekRTL8111.kext</strong>：大多数 Realtek 的千兆网卡驱动</li><li><strong>SmallTreeIntel82576.kext</strong>I 211 有线网卡驱动</li></ul></li><li>无线网卡<ul><li>Intel 网卡的 WiFi 驱动<ul><li><a target="_blank" rel="noopener" href="https://github.com/OpenIntelWireless/itlwm/releases"><strong>AirportItlwm.kext</strong></a><ul><li>支持驱动的 intel 无线网卡型号表：<a target="_blank" rel="noopener" href="https://docs.oiw.workers.dev/itlwm/Compat.html">https://docs.oiw.workers.dev/itlwm/Compat.html</a></li></ul></li><li><a target="_blank" rel="noopener" href="https://github.com/OpenIntelWireless/IntelBluetoothFirmware/releases"><strong>IntelBluetoothFirmware.kext 与 IntelBluetoothFirmware.kext</strong></a></li></ul></li><li>Broadcom 博通免驱系列<ul><li><a target="_blank" rel="noopener" href="https://github.com/acidanthera/AirportBrcmFixup/releases"><strong>AirportBrcmFixup.kext</strong></a></li><li><a target="_blank" rel="noopener" href="https://github.com/acidanthera/BrcmPatchRAM/releases"><strong>BrcmPatchRAM 系列</strong></a></li></ul></li></ul></li></ul><h3 id="Driver"><a href="#Driver" class="headerlink" title="Driver"></a>Driver</h3><p><code>OC/Drivers</code> 里放着一些驱动文件，这些驱动均已 .efi 后缀结尾，OC 官方默认的驱动文件以及说明如下：</p><p>必备Dirver(精简Drivers)</p><ul><li><strong>CrScreenshotDxe.efi</strong>：OC 引导界面截图驱动，按 F10 会保存当前界面的截图到 EFI 分区的根目录下</li><li><strong>OpenCanopy.efi</strong>：使用图形化 OC 主题必备驱动</li><li><strong>OpenHfsPlus.efi</strong>：文件系统驱动，用于支持识别 HFS+ 的磁盘格式</li><li><strong>OpenRuntime.efi</strong>：OC 核心必备驱动，功能比较强大，大家记住这个是必备的驱动就行</li></ul><p>常用Diver</p><ul><li><strong>AudioDxe.efi</strong>：用与启动的时候播放 Duang 的声音，就像白苹果那样</li><li><strong>CrScreenshotDxe.efi</strong>：OC 引导界面截图驱动，按 F10 会保存当前界面的截图到 EFI 分区的根目录下</li><li><strong>HiiDatabase.efi</strong>：用于支持 UEFI 字体渲染，四代酷睿后一般不需要</li><li><strong>NvmExpressDxe.efi</strong>：用于让老主板支持 NVME Express 设备，四代酷睿后一般不需要</li><li><strong>OpenCanopy.efi</strong>：使用图形化 OC 主题必备驱动</li><li><strong>OpenHfsPlus.efi</strong>：文件系统驱动，用于支持识别 HFS+ 的磁盘格式</li><li><strong>OpenLinuxBoot.efi</strong>：OC 0.7.3 新增的驱动，用于引导 Linux 系统</li><li><strong>OpenPartitionDxe.efi</strong>：分区管理驱动程序。用于加载旧版 macOS 的 DMG 映像</li><li><strong>OpenRuntime.efi</strong>：OC 核心必备驱动，功能比较强大，大家记住这个是必备的驱动就行</li><li><strong>OpenUsbKbDxe.efi</strong>：USB 键盘驱动，用于模拟苹果热键，是 KeySupport 的等效方案</li><li><strong>Ps2KeyboardDxe.efi</strong>：PS/2 键盘驱动，这个 PS/2 键盘也太老了吧，我好多年没见过了</li><li><strong>Ps2MouseDxe.efi</strong>：PS/2 鼠标驱动，同样也太老了，很多年没有见过了</li><li><strong>UsbMouseDxe.efi</strong>：USB 鼠标驱动，有些虚拟机需要依赖改驱动才可以在引导界面使用鼠标</li><li><strong>XhciDxe.efi</strong>：XHCI USB controller 驱动程序，基本上 2 代酷睿开始大多数固件都自带这个驱动程序了</li></ul><h2 id="OC配置"><a href="#OC配置" class="headerlink" title="OC配置"></a>OC配置</h2><p>Config.list</p><p><img src="https://s2.loli.net/2022/05/14/SgyJI6rioZhKkMD.png" alt="截屏2022-05-14 14.27.31"></p><h3 id="ACPI-1"><a href="#ACPI-1" class="headerlink" title="ACPI"></a>ACPI</h3><p>高级配置与电源接口（Advanced Configuration and Power Interface），是 1997 年由英特尔、微软、东芝共同提出、制定的操作系统电源管理、硬件配置接口，ACPI 定义了系统固件 BIOS 或 UEFI 和操作系统之间的硬件抽象接口。</p><p>它帮助操作系统合理控制和分配计算机硬件设备的电量，有 了 ACPI ，操作系统可以根据设备实际情况，根据需要把不同的硬件设备关闭。</p><p>ACPI 由很多表组成，包括：RSDP，SDTH，RSDT，FADT，FACS，<strong>DSDT</strong>，<strong>SSDT</strong>，MADT，SBST，XSDT，ECDT，SLIT，SRAT。其中 <strong>DSDT</strong> 就是它的一个重要的描述表。</p><h3 id="Booter"><a href="#Booter" class="headerlink" title="Booter"></a>Booter</h3><p>对操作系统引导加载程序应用不同类型的UEFI修改，主要是Apple引导加载程序（boot.efi）。</p><h3 id="DeviceProperties"><a href="#DeviceProperties" class="headerlink" title="DeviceProperties"></a>DeviceProperties</h3><p>设备配置通过专用缓冲区提供给 macOS，用于设置 PCI 设备属性，如英特尔缓冲帧补丁，声卡 Layout ID 等。当然声卡的 ID 也可以直接通过启动项添加 <code>alcid=xx</code> 这种形式</p><h3 id="Kernel"><a href="#Kernel" class="headerlink" title="Kernel"></a>Kernel</h3><p>内核相关的选项设置。</p><h3 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h3><p>Misc 杂项部分</p><h3 id="NVRAM"><a href="#NVRAM" class="headerlink" title="NVRAM"></a>NVRAM</h3><h3 id="PLatformInfo"><a href="#PLatformInfo" class="headerlink" title="PLatformInfo"></a>PLatformInfo</h3><p>机型相关的信息，使用 OCC 这类工具一键生成，选择和自己 CPU 相近的即可</p><h3 id="UEFI"><a href="#UEFI" class="headerlink" title="UEFI"></a>UEFI</h3><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>关于声卡出现故障的解决方案</p><blockquote><p>Vendor	Codec	Revisions and layouts	MinKernel<br>Realtek	ALC256/ALC3246	layout 5, 11, 13, 14, 21, 22, 28, 56, 57	13 (10.9)ALC256<br>DEV_0256</p><ol><li><p>确定自己声卡型号id。我的是Realtek的声卡，我以Realtek为例来查看自己声卡的型号，其他型号的声卡自己百度查询一下吧!每一种声卡型号查看方式是不一样，建议用度娘搜索一下都会有介绍，我这里就不一一讲解了，可通过windows系统查看，右键我的电脑——管理——设备管理器——声音、视频和游戏控制器——右键设备属性——详细信息——属性中选择硬件id,查看第一行“值”，注意dev后面的值，0282，那么型号就是ALC282.</p></li><li><p>回到Mac系统上，把自己安装过的所有声卡驱动全部清除，例如你的万能声卡VoodooHDA.kext 、FakePCllD_ Intel. HDMI_ Audio.kext等等，只要涉及声卡驱动的全部删除。我的之前只装过一个万能声卡驱动，已经被我删除了。</p></li><li><p>下载最新版本的AppleALC.kext驱动，地址：<a target="_blank" rel="noopener" href="http://imacos.top/2019/08/26/1505/%EF%BC%8CAppleALC.kext%E9%A9%B1%E5%8A%A8%E9%9C%80%E8%A6%81%E9%85%8D%E5%90%88Lilu.kex%E9%A9%B1%E5%8A%A8%E4%BD%BF%E7%94%A8%EF%BC%8C%E5%9C%B0%E5%9D%80%EF%BC%9Ahttp://imacos.top/2019/07/02/1534/%EF%BC%8C%E6%89%93%E5%BC%80AppleALC.kext%E9%A9%B1%E5%8A%A8%E6%94%AF%E6%8C%81%E7%9A%84%E7%A1%AC%E4%BB%B6%E5%9E%8B%E5%8F%B7%E4%B8%8EID%E9%80%9F%E6%9F%A5%E5%88%97%E8%A1%A8%EF%BC%8C%E5%9C%B0%E5%9D%80%EF%BC%9Ahttp://imacos.top/2019/09/07/1920/%EF%BC%8C%E5%88%A9%E7%94%A8Ctrl+A%E4%B8%8ECtrl+F%E6%96%B9%E5%BC%8F%E6%90%9C%E7%B4%A2ALC282%E5%A3%B0%E5%8D%A1%E7%9A%84ID%EF%BC%8C%E6%9F%A5%E8%AF%A2%E5%88%B0ID%E5%80%BC%E4%B8%BAlayout">http://imacos.top/2019/08/26/1505/，AppleALC.kext驱动需要配合Lilu.kex驱动使用，地址：http://imacos.top/2019/07/02/1534/，打开AppleALC.kext驱动支持的硬件型号与ID速查列表，地址：http://imacos.top/2019/09/07/1920/，利用Ctrl+A与Ctrl+F方式搜索ALC282声卡的ID，查询到ID值为layout</a> 3, 4, 13, 22, 27, 28, 29, 41, 43, 51, 76, 86, 127。</p></li><li><p>用四叶草分区工具Clover Configurator打开EFI隐藏分区，把AppleALC.kext、Lilu.kex拷贝到EFI/CLOVER/kexts/Other驱动目录里，让后打开config.plist文件——Devices(设备设置)——Audio——Inject（注入）——输入之前查询到的ID值3，重新启动，如果还是没有驱动成功或者是声音图标亮了可以点击，但是没有声音，就把每一个值都测试一下。</p></li></ol><p>INTELAUDIO\FUNC_01&amp;VEN_10EC&amp;DEV_0256&amp;SUBSYS_10431061&amp;REV_1000<br>INTELAUDIO\FUNC_01&amp;VEN_10EC&amp;DEV_0256&amp;SUBSYS_10431061</p></blockquote><blockquote><p>解决的问题<br><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/av50809670/">https://www.bilibili.com/video/av50809670/</a><br>声卡驱动<br><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/av67570044/">https://www.bilibili.com/video/av67570044/</a><br><a target="_blank" rel="noopener" href="http://imacos.top/2019/09/08/2300/">http://imacos.top/2019/09/08/2300/</a></p><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/5a7dc5f5def4">https://www.jianshu.com/p/5a7dc5f5def4</a><br>无线网卡<br>usb网卡<br><a target="_blank" rel="noopener" href="http://imacos.top/2019/10/23/1025-2/">http://imacos.top/2019/10/23/1025-2/</a></p></blockquote><h2 id="装机"><a href="#装机" class="headerlink" title="装机"></a>装机</h2><blockquote><p><a target="_blank" rel="noopener" href="https://zhizhizhi.com/a/xianka-pinpai-paihangbang/">显卡什么牌子好？10大显卡品牌排行榜（2020） – 网购值值值</a><br><a target="_blank" rel="noopener" href="https://heipg.cn/tutorial/diy-hackintosh-2020.html">2020年黑苹果硬件配置推荐表-黑苹果星球</a><br><a target="_blank" rel="noopener" href="http://k61.org/i7-9700K-ga-Z390-GAMING-X-CF">【台式机】i7-9700K 技嘉 Z390 GAMING X-CF RX 5700 XT ALC892 10.15.2黑苹果引导_Hackintosh_Clover | 老吴黑苹果工作室</a><br><a target="_blank" rel="noopener" href="https://macx.top/864.html">可驱动显卡支持列表 – 苹果地带</a></p></blockquote><h3 id="笔记本电脑"><a href="#笔记本电脑" class="headerlink" title="笔记本电脑"></a>笔记本电脑</h3><blockquote><p><a target="_blank" rel="noopener" href="https://github.com/xxx88/ASUSVivoBookS2-Hackintosh">xxx88/ASUSVivoBookS2-Hackintosh: 本项目是一个采用了Clover引导的华硕灵耀s2笔记本的黑苹果和window10的双系统配置文件，该项目基本完成了苹果系统的98%的体验，可以正常完成基本功能。</a></p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">电脑型号: 华硕 VivoBook S15 X530UN 笔记本电脑<br>操作系统: Windows 10 专业版 64位<br>主板: 华硕 X530UN<br>内存: 8 GB ( 三星 DDR4 2400MHz )<br>主硬盘: 镁光 _1100_MTFDDAV512TBN ( 512 GB / 固态硬盘 )<br>显卡: Nvidia GeForce MX150 ( 2 GB )<br>显示器: 友达 AUO21ED ( 15.5 英寸  )<br>声卡: 瑞昱 Audio @ 英特尔 High Definition Audio 控制器<br>网卡: 英特尔 Dual Band Wireless-AC 8265<br></code></pre></td></tr></tbody></table></figure><h3 id="ATX机箱配置"><a href="#ATX机箱配置" class="headerlink" title="ATX机箱配置"></a>ATX机箱配置</h3><p>无线网卡</p><p>一般主板板载的蓝牙和WiFi黑苹果都不能驱动，需要额外购买；</p><p>买显卡看什么？</p><p>核心流处理器（SP）数量、显存频率、显存带宽、核心频率</p><ul><li>华硕（ASUS） 创于1989年台湾，消费性笔记本电脑<strong>品牌</strong>，全球大型主板/<strong>显卡</strong>生产商，领先的3C解决方案提供商。</li><li>技嘉（GIGABYTE）</li><li>微星（msi）</li><li>蓝宝石（SAPPHIRE）</li><li>七彩虹（Colorful）</li><li>影驰（GALAXY）</li><li>索泰（Zotac）</li><li>迪兰（Dataland）<br>对于固态硬盘，Nvme SSD选择三星、惠普、金士顿之类的都不会有什么问题。注意三星散装OEM版本的PM981(MZVLB)是有问题的，不能作为安装盘。SATA口的硬盘就随意了。<br>内存和电源也没有什么需要特别注意的，仁者见仁智者见智，大家根据自己的喜欢搭配即可。</li></ul><p>配置方案：2020年</p><p>配置一</p><table><thead><tr><th>电脑型号 技嘉 Z390 GAMING X 台式电脑</th><th></th><th>价格</th><th></th></tr></thead><tbody><tr><td>处理器</td><td>英特尔 Core i7-9700K @ 3.60GHz 八核</td><td>2299</td><td></td></tr><tr><td>主板</td><td>技嘉 Z390 GAMING X-CF ( Z390 芯片组 )</td><td>1000</td><td></td></tr><tr><td>内存</td><td>32 GB ( 金士顿 DDR4 3200MHz )</td><td>1200</td><td></td></tr><tr><td>主硬盘</td><td>Lexar SSD (1 T / 固态硬盘 ) 500G</td><td>819</td><td></td></tr><tr><td>显卡</td><td>AMD Radeon RX 5700 XT ( 8 GB / AMD )</td><td>3400</td><td></td></tr><tr><td>机箱</td><td></td><td></td><td></td></tr><tr><td>风扇</td><td>玄冰400</td><td>89</td><td></td></tr><tr><td>电源</td><td></td><td></td><td></td></tr><tr><td>网卡1</td><td>Fenvi/博通 BCM94360CD</td><td>219-298</td><td></td></tr><tr><td>网卡2</td><td>苹果/博通 BCM94360CS2</td><td>130-170</td><td></td></tr></tbody></table><p>配置二</p><table><thead><tr><th>配件</th><th>品牌</th><th>型号</th><th>说明</th></tr></thead><tbody><tr><td>处理器</td><td>英特尔</td><td>i7 9700K/KF</td><td>KF无核显</td></tr><tr><td>主板</td><td>技嘉/华硕/微星</td><td>Z370/Z390</td><td></td></tr><tr><td>内存</td><td>芝奇/海盗船</td><td>皇家戟/复仇者 3200Mhz 16GB</td><td>8GB x2套装，按需加配</td></tr><tr><td>显卡</td><td>AMD/华硕/蓝宝石</td><td>RX 5700XT</td><td>50周年版也免驱</td></tr><tr><td>固态硬盘</td><td>三星</td><td>970 EVO/PLUS/PRO</td><td>500G</td></tr><tr><td>电源</td><td>海盗船</td><td>RM650x/RM750x</td><td>650w/750w</td></tr><tr><td>定制电源线</td><td>定制模组线</td><td>定制</td><td>可选RGB</td></tr><tr><td>机箱</td><td>NZXT/恩杰</td><td>H510/H710</td><td>ATX塔式机箱</td></tr><tr><td>处理器散热</td><td>NZXT/恩杰</td><td>X62/X72</td><td>一体式水冷，看喜好选</td></tr><tr><td>机械硬盘</td><td>希捷酷鱼/西数黑盘</td><td>3T/4T/6T/8T</td><td>选配</td></tr></tbody></table><p>配置三</p><table><thead><tr><th>配件</th><th>品牌</th><th>型号</th><th>说明</th></tr></thead><tbody><tr><td>处理器</td><td>英特尔</td><td>i5 9600K/KF</td><td>KF无核显</td></tr><tr><td>主板</td><td>技嘉/华硕/微星</td><td>B365/H370/Z370/Z390</td><td></td></tr><tr><td>内存</td><td>芝奇/海盗船</td><td>幻光戟/复仇者 3200Mhz 16GB</td><td>8GB x2套装，按需加配</td></tr><tr><td>显卡</td><td>AMD/华硕/蓝宝石</td><td>RX 5600XT/5700</td><td></td></tr><tr><td>固态硬盘</td><td>三星</td><td>970 EVO/PLUS</td><td>250G/500G/1T看具体需求</td></tr><tr><td>机械硬盘</td><td>希捷酷鱼/西数黑盘</td><td>3T/4T/6T/8T</td><td>选配</td></tr><tr><td>电源</td><td>海盗船</td><td>RM550x/RM650x</td><td>550w/650w</td></tr><tr><td>定制电源线</td><td>定制模组线</td><td>定制</td><td>选配</td></tr><tr><td>处理器散热①</td><td>NZXT/恩杰</td><td>X52/X62</td><td>水冷风冷二选一</td></tr><tr><td>处理器散热②</td><td>酷冷至尊/利民/Tt</td><td>塔式风冷</td><td>水冷风冷二选一</td></tr><tr><td>机箱</td><td>NZXT/恩杰</td><td>H510/H710</td><td>ATX塔式机箱</td></tr></tbody></table><p>免驱显卡</p><blockquote><p><a target="_blank" rel="noopener" href="http://bbs.pcbeta.com/viewthread-1799271-1-1.html">macOS Mojave 台式机黑苹果硬件选购指南-远景论坛-微软极客社区</a></p></blockquote><ul><li>讯景的卡装黑苹果会出现各种各样的问题，比较玄学不推荐购买</li></ul><table><thead><tr><th>Mojave免驱的A卡：</th><th></th></tr></thead><tbody><tr><td>首选 蓝宝石，微星，迪兰，技嘉，华硕 的</td><td></td></tr><tr><td>Radeon VII</td><td></td></tr><tr><td>Vega FE</td><td></td></tr><tr><td>Vega 64</td><td></td></tr><tr><td>Vega 56</td><td></td></tr><tr><td>Vega Nano</td><td></td></tr><tr><td>Pro SSG</td><td></td></tr><tr><td>WX 9100</td><td></td></tr><tr><td>WX 8200</td><td></td></tr><tr><td>RX 590</td><td></td></tr><tr><td>RX 580 （注意，缩水的阉割版2048SP的RX580马甲卡不是免驱的，标准2304SP才是免驱卡）</td><td></td></tr><tr><td>RX 570</td><td></td></tr><tr><td>RX 560 （个别型号的HDMI/DVI输出黑屏，需要改FB，DP输出没问题）</td><td></td></tr><tr><td>RX 560D</td><td></td></tr><tr><td>RX 480</td><td></td></tr><tr><td>RX 470</td><td></td></tr><tr><td>RX 470D （个别型号的HDMI/DVI输出黑屏，需要改FB，DP输出没问题）</td><td></td></tr><tr><td>RX 460</td><td></td></tr><tr><td>WX 7100</td><td></td></tr><tr><td>WX 5100</td><td></td></tr><tr><td>WX 4100</td><td></td></tr><tr><td>Pro Duo (Fiji)</td><td></td></tr><tr><td>W9100</td><td></td></tr><tr><td>W9100 32GB</td><td></td></tr><tr><td>W9000</td><td></td></tr><tr><td>W8100</td><td></td></tr><tr><td>W8000</td><td></td></tr><tr><td>W7100</td><td></td></tr><tr><td>W7000</td><td></td></tr><tr><td>W5100</td><td></td></tr><tr><td>W5000</td><td></td></tr></tbody></table><p>无线网卡选购买指南</p><ul><li>10.15.2又不支持三星EVO 970 PLUS固态了</li></ul><table><thead><tr><th>配件</th><th>品牌</th><th>型号</th><th>2.4G</th></tr></thead><tbody><tr><td>蓝牙&amp;WiFi</td><td>Fenvi/博通</td><td>BCM94360AC</td><td>600M</td></tr><tr><td>蓝牙&amp;Wifi</td><td>苹果/博通</td><td>BCM94360CS2</td><td>300M</td></tr><tr><td>蓝牙&amp;WiFi</td><td>苹果/博通</td><td>BCM94360CS</td><td>450M</td></tr><tr><td>蓝牙&amp;WiFi</td><td>华硕/博通</td><td>BCM94360HMB</td><td>300M</td></tr><tr><td>蓝牙&amp;WiFi</td><td>苹果/博通</td><td>BCM943602CS</td><td>450M</td></tr><tr><td>蓝牙&amp;WiFi</td><td>苹果/博通</td><td>BCM943602CDP</td><td>450M</td></tr><tr><td>蓝牙&amp;WiFi</td><td>苹果/博通</td><td>BCM94331CD</td><td>450M</td></tr><tr><td>蓝牙&amp;WiFi</td><td>苹果/博通</td><td>BCM94331CSAX</td><td>300M</td></tr><tr><td>蓝牙&amp;WiFi</td><td>戴尔/博通</td><td>BCM943602BAED</td><td>300M</td></tr><tr><td>蓝牙&amp;WiFi</td><td>戴尔/博通</td><td>BCM94350ZAE</td><td>300M</td></tr><tr><td>蓝牙&amp;WiFi</td><td>Fenvi/博通</td><td>BCM94360CD</td><td>450M</td></tr></tbody></table><h3 id="ITX机箱配置"><a href="#ITX机箱配置" class="headerlink" title="ITX机箱配置"></a>ITX机箱配置</h3><table><thead><tr><th align="left">配件</th><th align="left">品牌</th><th align="left">型号</th><th align="left">平台</th><th>估价</th></tr></thead><tbody><tr><td align="left">主板</td><td align="left">技嘉</td><td align="left">Z370 I AORUS PRO WIFI</td><td align="left">京东</td><td>1300</td></tr><tr><td align="left"></td><td align="left"></td><td align="left">Z490</td><td align="left"></td><td></td></tr><tr><td align="left">显卡</td><td align="left">蓝宝石</td><td align="left">RX 5500XT</td><td align="left">京东</td><td>1500</td></tr><tr><td align="left"></td><td align="left">蓝宝石</td><td align="left">RX5700XT</td><td align="left">京东</td><td>3200（6期）</td></tr><tr><td align="left">电源</td><td align="left">全汉SFX（带定制模组线）</td><td align="left">600W</td><td align="left">京东</td><td>630</td></tr><tr><td align="left">处理器</td><td align="left">英特尔</td><td align="left">i5 9600K 散片</td><td align="left">淘宝</td><td>1000</td></tr><tr><td align="left"></td><td align="left">英特尔</td><td align="left">i5 10600K 散片</td><td align="left">淘宝</td><td></td></tr><tr><td align="left"></td><td align="left">英特尔</td><td align="left">i7 10600K 散片</td><td align="left">淘宝</td><td>2400</td></tr><tr><td align="left">处理器散热</td><td align="left">乔思伯240水冷</td><td align="left">240水冷</td><td align="left">淘宝</td><td>400</td></tr><tr><td align="left">机箱</td><td align="left">乔思伯</td><td align="left">A4</td><td align="left">淘宝</td><td>699</td></tr><tr><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td>1068</td></tr><tr><td align="left">内存</td><td align="left">芝奇</td><td align="left">16G DDR4 3200Hz</td><td align="left">拼多多</td><td>530</td></tr><tr><td align="left">固态硬盘</td><td align="left">西部数据</td><td align="left">SN550 500G</td><td align="left">拼多多</td><td>449</td></tr><tr><td align="left">合计</td><td align="left"></td><td align="left"></td><td align="left"></td><td>6400</td></tr></tbody></table><h2 id="检测"><a href="#检测" class="headerlink" title="检测"></a>检测</h2><p>检测软件</p><ul><li><a target="_blank" rel="noopener" href="https://www.intel.com/content/www/us/en/developer/articles/tool/power-gadget.html">Intel Power Gadget</a></li><li><a target="_blank" rel="noopener" href="https://github.com/headkaze/Hackintool/releases">Hackintool</a></li><li>VideoProc</li><li>Geekbench5</li><li>系统信息</li><li>触控板</li><li>快捷键</li><li>电池</li></ul><p>互联</p><ul><li>信息</li><li>iCloud</li><li>隔空投送</li><li>跨设备粘贴</li><li>随航</li><li>通用控制</li></ul></div><div class="prev-or-next"><div class="post-foot-next"><a href="/%E8%AF%AD%E6%B3%95%E7%AF%87/pinia.html" target="_self"><i class="iconfont icon-chevronleft"></i> <span>上一页</span></a></div><div class="post-attach"><span class="post-pubtime"><i class="iconfont icon-updatetime mr-10" title="更新时间"></i> 2022-10-20 10:31:20 </span><span class="post-tags"><i class="iconfont icon-tags mr-10" title="标签"></i> <span class="span--tag mr-8"><a href="/tags/%E9%BB%91%E8%8B%B9%E6%9E%9C/" title="黑苹果">#黑苹果</a></span></span></div><div class="post-foot-prev"><a href="/%E5%B7%A5%E5%85%B7%E7%AF%87/MacOS.html" target="_self"><span>下一页</span> <i class="iconfont icon-chevronright"></i></a></div></div></div><div id="btn-catalog" class="btn-catalog"><i class="iconfont icon-catalog"></i></div><div class="post-catalog hidden" id="catalog"><div class="title">目录</div><div class="catalog-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Hackintoch"><span class="toc-text">Hackintoch</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%AF%E8%AF%AD"><span class="toc-text">术语</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-text">简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%88%E6%9C%AC"><span class="toc-text">版本</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A1%AC%E4%BB%B6"><span class="toc-text">硬件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BD%AF%E4%BB%B6"><span class="toc-text">软件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-text">安装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BD%AF%E4%BB%B6-1"><span class="toc-text">软件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%B6%E4%BD%9C%E9%BB%91%E8%8B%B9%E6%9E%9C%E9%95%9C%E5%83%8F"><span class="toc-text">制作黑苹果镜像</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%B6%E4%BD%9C%E5%90%AF%E5%8A%A8U%E7%9B%98"><span class="toc-text">制作启动U盘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-1"><span class="toc-text">安装</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0"><span class="toc-text">更新</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E5%AF%BC"><span class="toc-text">引导</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Clover-%E5%BC%95%E5%AF%BC"><span class="toc-text">Clover 引导</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#OS-%E5%BC%95%E5%AF%BC"><span class="toc-text">OS 引导</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Clover-%E8%BD%AC-OC"><span class="toc-text">Clover 转 OC</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#EFI%E9%85%8D%E7%BD%AE"><span class="toc-text">EFI配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#OC%E6%96%87%E4%BB%B6"><span class="toc-text">OC文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ACPI"><span class="toc-text">ACPI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Kexts"><span class="toc-text">Kexts</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Driver"><span class="toc-text">Driver</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#OC%E9%85%8D%E7%BD%AE"><span class="toc-text">OC配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ACPI-1"><span class="toc-text">ACPI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Booter"><span class="toc-text">Booter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DeviceProperties"><span class="toc-text">DeviceProperties</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Kernel"><span class="toc-text">Kernel</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Misc"><span class="toc-text">Misc</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NVRAM"><span class="toc-text">NVRAM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PLatformInfo"><span class="toc-text">PLatformInfo</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UEFI"><span class="toc-text">UEFI</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%97%AE%E9%A2%98"><span class="toc-text">问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A3%85%E6%9C%BA"><span class="toc-text">装机</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%94%E8%AE%B0%E6%9C%AC%E7%94%B5%E8%84%91"><span class="toc-text">笔记本电脑</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ATX%E6%9C%BA%E7%AE%B1%E9%85%8D%E7%BD%AE"><span class="toc-text">ATX机箱配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ITX%E6%9C%BA%E7%AE%B1%E9%85%8D%E7%BD%AE"><span class="toc-text">ITX机箱配置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A3%80%E6%B5%8B"><span class="toc-text">检测</span></a></li></ol></li></ol></div></div><script src="/js/catalog.js"></script><div class="comments-container"></div></div><div class="footer"><div class="social"><ul><li><a title="github" target="_blank" rel="noopener" href="https://github.com/heweiliang88"><i class="iconfont icon-github"></i></a></li><li><a title="email" href=""><i class="iconfont icon-envelope"></i></a></li><li><a title="facebook" href=""><i class="iconfont icon-facebooksquare"></i></a></li><li><a title="twitter" href=""><i class="iconfont icon-twitter"></i></a></li><li><a title="wechat" href=""><i class="iconfont icon-wechat"></i></a></li><li><a title="weibo" href=""><i class="iconfont icon-weibo"></i></a></li></ul></div><div class="footer-more"><a target="_blank" rel="noopener" href="https://github.com/zchengsite/hexo-theme-oranges">Copyright © 2022 cloud</a></div><div class="footer-more"><a target="_blank" rel="noopener" href="https://github.com/zchengsite/hexo-theme-oranges">Theme by Oranges | Powered by Hexo</a></div></div></div><div class="tools-bar"><div class="back-to-top tools-bar-item hidden"><a href="javascript: void(0)"><i class="iconfont icon-chevronup"></i></a></div><script src="/js/backtotop.js"></script><div class="search-icon tools-bar-item" id="search-icon"><a href="javascript: void(0)"><i class="iconfont icon-search"></i></a></div><div class="search-overlay hidden"><div class="search-content" tabindex="0"><div class="search-title"><span class="search-icon-input"><a href="javascript: void(0)"><i class="iconfont icon-search"></i> </a></span><input type="text" class="search-input" id="search-input" placeholder="搜索..."> <span class="search-close-icon" id="search-close-icon"><a href="javascript: void(0)"><i class="iconfont icon-close"></i></a></span></div><div class="search-result" id="search-result"></div></div></div><script type="text/javascript">var inputArea=document.querySelector("#search-input"),searchOverlayArea=document.querySelector(".search-overlay");function openOrHideSearchContent(){searchOverlayArea.classList.contains("hidden")?(searchOverlayArea.classList.remove("hidden"),document.body.classList.add("hidden")):(searchOverlayArea.classList.add("hidden"),document.body.classList.remove("hidden"))}function blurSearchContent(e){e.target===searchOverlayArea&&openOrHideSearchContent()}inputArea.onclick=function(){getSearchFile(),this.onclick=null},inputArea.onkeydown=function(){if(13==event.keyCode)return!1},document.querySelector("#search-icon").addEventListener("click",openOrHideSearchContent,!1),document.querySelector("#search-close-icon").addEventListener("click",openOrHideSearchContent,!1),searchOverlayArea.addEventListener("click",blurSearchContent,!1);var searchFunc=function(e,t,n){"use strict";var r=document.getElementById(t),a=document.getElementById(n);a.innerHTML="<ul><span class='local-search-empty'>首次搜索，正在载入索引文件，请稍后……<span></ul>",$.ajax({url:e,dataType:"xml",success:function(e){var t=$("entry",e).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get();a.innerHTML="",r.addEventListener("input",function(){var u='<ul class="search-result-list">',h=this.value.trim().toLowerCase().split(/[\s\-]+/);if(a.innerHTML="",!(this.value.trim().length<=0)){if(t.forEach(function(e){var n,r,a=!0,t=(e.title&&""!==e.title.trim()||(e.title="Untitled"),e.title.trim()),c=t.toLowerCase(),s=e.content.trim().replace(/<[^>]+>/g,""),i=s.toLowerCase(),e=e.url,l=-1,o=-1;""!==i?h.forEach(function(e,t){n=c.indexOf(e),l=i.indexOf(e),n<0&&l<0?a=!1:(l<0&&(l=0),0==t&&(o=l))}):a=!1,a&&(u+="<li><a href='"+e+"' class='search-result-title'>"+t+"</a>",0<=o&&(e=o+80,(e=0==(t=(t=o-20)<0?0:t)?100:e)>s.length&&(e=s.length),r=s.substr(t,e),h.forEach(function(e){var t=new RegExp(e,"gi");r=r.replace(t,'<span class="search-keyword">'+e+"</span>")}),u+='<p class="search-result-abstract">'+r+"...</p>"),u+="</li>")}),-1===(u+="</ul>").indexOf("<li>"))return a.innerHTML="<ul><span class='local-search-empty'>没有找到内容，请尝试更换检索词。<span></ul>";a.innerHTML=u}})},error:function(e,t,n){a.innerHTML="",404===e.status?a.innerHTML="<ul><span class='local-search-empty'>未找到search.xml文件，具体请参考：<a href='https://github.com/zchengsite/hexo-theme-oranges#configuration' target='_black'>configuration</a><span></ul>":a.innerHTML="<ul><span class='local-search-empty'>请求失败，尝试重新刷新页面或稍后重试。<span></ul>"}}),$(document).on("click","#search-close-icon",function(){$("#search-input").val(""),$("#search-result").html("")})},getSearchFile=function(){searchFunc("/search.xml","search-input","search-result")}</script><div class="tools-bar-item theme-icon" id="switch-color-scheme"><a href="javascript: void(0)"><i id="theme-icon" class="iconfont icon-moon"></i></a></div><script src="/js/colorscheme.js"></script><div class="share-icon tools-bar-item"><a href="javascript: void(0)" id="share-icon"><i class="iconfont iconshare"></i></a><div class="share-content hidden"><a class="share-item" href="https://twitter.com/intent/tweet?text=' + %E6%9E%81%E5%AE%A2%E5%BF%85%E5%A4%87%E9%BB%91%E8%8B%B9%E6%9E%9C%E5%AE%89%E8%A3%85%E9%80%82%E9%85%8D%E6%8C%87%E5%8D%97 + '&url=' + http%3A%2F%2Fexample.com%2F%25E7%2588%25B1%25E5%25A5%25BD%25E7%25AF%2587%2F%25E9%25BB%2591%25E8%258B%25B9%25E6%259E%259C.html + '" target="_blank" title="Twitter"><i class="iconfont icon-twitter"></i> </a><a class="share-item" href="https://www.facebook.com/sharer.php?u=http://example.com/%E7%88%B1%E5%A5%BD%E7%AF%87/%E9%BB%91%E8%8B%B9%E6%9E%9C.html" target="_blank" title="Facebook"><i class="iconfont icon-facebooksquare"></i></a></div></div><script src="/js/shares.js"></script></div></div></body></html>